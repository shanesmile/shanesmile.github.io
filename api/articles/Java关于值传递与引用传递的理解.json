{"title":"Java关于值传递与引用传递的理解","slug":"Java关于值传递与引用传递的理解","date":"2019-08-01T13:17:15.000Z","updated":"2019-08-01T13:51:07.230Z","comments":true,"path":"api/articles/Java关于值传递与引用传递的理解.json","photos":[],"link":"","excerpt":"字段变量(field)  类           堆<br>局部变量(Local variable)  方法中或方法的参变量    栈<br>生命周期不同 一个随对象的存在而存在，一个随方法的调用存在<br>字段变量自动赋初值 数值：0对象：null bool：false<br>局部变量要显式赋值<br>局部变量不能被访问控制符及static修饰","covers":null,"content":"<p>字段变量(field)  类           堆<br>局部变量(Local variable)  方法中或方法的参变量    栈<br>生命周期不同 一个随对象的存在而存在，一个随方法的调用存在<br>字段变量自动赋初值 数值：0对象：null bool：false<br>局部变量要显式赋值<br>局部变量不能被访问控制符及static修饰</p>\n<a id=\"more\"></a>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyDate</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">int</span> day;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">int</span> month;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> <span class=\"keyword\">int</span> year;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"title\">MyDate</span><span class=\"params\">(<span class=\"keyword\">int</span> y,<span class=\"keyword\">int</span> m,<span class=\"keyword\">int</span> d)</span> </span>&#123;</span><br><span class=\"line\">\t\tyear = y;</span><br><span class=\"line\">\t\tmonth =m;</span><br><span class=\"line\">\t\tday = d;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">void</span> <span class=\"title\">addYear</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t\tyear ++;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title\">display</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">\t\tSystem.out.println(year+month+day);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">\t\tMyDate m = <span class=\"keyword\">new</span> MyDate(<span class=\"number\">2003</span>,<span class=\"number\">9</span>,<span class=\"number\">6</span>);</span><br><span class=\"line\">\t\tm.display();</span><br><span class=\"line\">\t\tMyDate n = m;</span><br><span class=\"line\">\t\tm.addYear();</span><br><span class=\"line\">\t\tm.display();</span><br><span class=\"line\">\t\tn.display();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"变量的传递\"><a href=\"#变量的传递\" class=\"headerlink\" title=\"变量的传递\"></a>变量的传递</h1><p>Java是值传递：将表达式的值复制给形式参数。经过函数处理原值不变。<br>“是指在调用函数时将实际参数复制一份传递到函数中，这样在函数中如果对参数进行修改，将不会影响到实际参数。”</p>\n<p>对于引用型变量，传递的值是引用值，而不是复制对象的实体<br>“是指在调用函数时将实际参数的地址直接传递到函数中，那么在函数中对参数所进行的修改，将影响到实际参数。”</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">MyDate</span> </span>&#123;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">main</span><span class=\"params\">(String[] args)</span> </span>&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">int</span> a = <span class=\"number\">0</span>;</span><br><span class=\"line\">\t\tmodify(a);</span><br><span class=\"line\">\t\tSystem.out.println(<span class=\"string\">\"main方法中的a：\"</span>+a);<span class=\"comment\">//result:0</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">int</span> [] b = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span> [<span class=\"number\">1</span>];</span><br><span class=\"line\">\t\tmodify(b);</span><br><span class=\"line\">\t\tSystem.out.println(b[<span class=\"number\">0</span>]);<span class=\"comment\">//result:1</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">modify</span><span class=\"params\">(<span class=\"keyword\">int</span> a)</span> </span>&#123;</span><br><span class=\"line\">\t\ta++;</span><br><span class=\"line\">\t\tSystem.out.println(<span class=\"string\">\"modify方法中的a：\"</span>+a);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"function\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title\">modify</span><span class=\"params\">(<span class=\"keyword\">int</span>[] b)</span> </span>&#123;</span><br><span class=\"line\">\t\tb[<span class=\"number\">0</span>] ++;</span><br><span class=\"line\">\t\tb = <span class=\"keyword\">new</span> <span class=\"keyword\">int</span>[<span class=\"number\">5</span>];   <span class=\"comment\">//虽然又改了，但调用者的引用没有发生改变</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>输出：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">modify方法中的a：1</span><br><span class=\"line\">main方法中的a：0</span><br><span class=\"line\">1</span><br></pre></td></tr></table></figure>\n\n<p>更加详细的讨论参考“朝阳君”的：<a href=\"https://www.cnblogs.com/hpyg/p/8005599.html\" target=\"_blank\" rel=\"noopener\">《java参数传递（到底是值传递还是引用传递？）》</a><br>一个strBuf = new StringBuffer(“Hi “);的区别。</p>\n<blockquote>\n<p>new操作符操作成功后总会在内存中新开辟一块存储区域。<br>String类是个特殊的类，对它的一些操作符是重载的，如：<br>String str = “Hello”; 等价于String str = new String(“Hello”);</p>\n</blockquote>\n<p>讲的好棒！！！</p>\n","categories":[{"name":"Java","slug":"Java","count":2,"path":"api/categories/Java.json"}],"tags":[{"name":"Java","slug":"Java","count":2,"path":"api/tags/Java.json"}]}